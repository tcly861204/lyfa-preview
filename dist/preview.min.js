!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Preview=n():e.Preview=n()}(self,(function(){return(()=>{"use strict";var e={462:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(326);function o(){return'\n    <section class="preview-container__body">\n      <div class="preview-container__body-btn prev">\n        <span class="icon" style="background-image: url('.concat(i.Z,')"></span>\n      </div>\n      <div class="swipper">\n      </div>\n      <div class="preview-container__body-btn next">\n        <span class="icon" style="background-image: url(').concat(i.Z,')"></span>\n      </div>\n    </section>\n  ')}},755:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(326);function o(){return'<footer class="preview-container__footer">\n    <section class="preview-container__footer-action">\n      <ul>\n        <li class="action-item app" data-num="0/0"><span class="icon" style="background-image: url('.concat(i.Z,')"></span></li>\n        <li class="action-item fullsceen"><span class="icon" style="background-image: url(').concat(i.Z,')"></span></li>\n        <li class="action-item zoomIn"><span class="icon" style="background-image: url(').concat(i.Z,')"></span></li>\n        <li class="action-item zoomOut"><span class="icon" style="background-image: url(').concat(i.Z,')"></span></li>\n        <li class="action-item rotate"><span class="icon" style="background-image: url(').concat(i.Z,')"></span></li>\n      </ul>\n    </section>\n  </footer>')}},623:(e,n,t)=>{t.d(n,{Z:()=>o});var i=t(326);function o(){return'\n    <header class="preview-container__header">\n      <h2 class="title"></h2>\n      <div class="download"><i class="omd omd-file-download"></i></div>\n      <div class="icon close" style="background-image: url('.concat(i.Z,');"></div>\n    </header>\n  ')}},842:(e,n,t)=>{t.d(n,{Z:()=>c});var i=t(81),o=t.n(i),r=t(645),a=t.n(r)()(o());a.push([e.id,'.preview-container__mask{position:fixed;background:rgba(0,0,0,.85);top:0;left:0;right:0;bottom:0;z-index:99999;display:-webkit-box;display:-ms-flexbox;display:flex}.preview-container{position:relative;width:100%;height:100%;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.preview-container .icon{width:24px;height:24px;display:block;background-repeat:no-repeat}.preview-container .icon.close{background-position:-110px 0}.preview-container .close{width:24px;height:24px;margin:13px 15px 13px 0;cursor:pointer;padding:4px;-webkit-box-sizing:border-box;box-sizing:border-box}.preview-container .download{width:24px;height:24px;margin:13px 15px 13px 0;cursor:pointer}@-webkit-keyframes loading{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes loading{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.preview-container__header{background:#000;height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;z-index:2;left:0;right:0;top:0;padding-left:15px}.preview-container__header .title{padding:0;margin:0;line-height:50px;font-size:16px;font-weight:normal;color:#bdbdbd;-webkit-box-flex:1;-ms-flex:1;flex:1}.preview-container__body{width:100%;height:100%;position:relative}.preview-container__body-btn{width:60px;height:60px;line-height:60px;text-align:center;border-radius:30px;position:absolute;background:rgba(117,117,117,.2);color:#bdbdbd;border:none;cursor:pointer;top:0;bottom:0;margin:auto;z-index:99;display:none;padding:18px;-webkit-box-sizing:border-box;box-sizing:border-box}.preview-container__body-btn:hover{background:rgba(117,117,117,.4);color:#fff}.preview-container__body .prev{left:30px}.preview-container__body .prev .icon{background-position:-83px -27px}.preview-container__body .next{right:30px}.preview-container__body .next .icon{background-position:-83px 0}.preview-container__body .swipper{width:100%;height:100%;position:relative}.preview-container__body .swipper .loading{width:36px;height:36px;border:6px solid transparent;border-top-color:#fff;border-radius:50%;-webkit-animation:1s loading linear infinite;animation:1s loading linear infinite;position:absolute;margin:auto;left:0;right:0;bottom:0;top:0}.preview-container__body .swipper .loading::before{content:"";display:block;width:inherit;height:inherit;position:absolute;top:-6px;left:-6px;border:6px solid currentColor;border-radius:50%;opacity:.6}.preview-container__footer{position:absolute;height:50px;-webkit-transition:-webkit-transform ease-in-out .3s;transition:-webkit-transform ease-in-out .3s;transition:transform ease-in-out .3s;transition:transform ease-in-out .3s, -webkit-transform ease-in-out .3s;z-index:2;left:0;bottom:0;right:0;background:rgba(0,0,0,.6)}.preview-container__footer-action{height:50px}.preview-container__footer-action ul{display:-webkit-box;display:-ms-flexbox;display:flex;width:360px;height:30px;padding:10px 0;-ms-flex-pack:distribute;justify-content:space-around;margin:0 auto}.preview-container__footer-action .action-item{width:30px;height:30px;padding:3px;-webkit-box-sizing:border-box;box-sizing:border-box;list-style-type:none;cursor:pointer}.preview-container__footer-action .action-item.app{position:relative;left:-20px}.preview-container__footer-action .action-item.app.icon{background-position:0 0}.preview-container__footer-action .action-item.app::after{position:absolute;content:attr(data-num);right:-18px;top:0;height:30px;line-height:30px;font-size:13px;color:#bdbdbd}.preview-container__footer-action .action-item.fullsceen>.icon{background-position:-28px 0}.preview-container__footer-action .action-item.zoomIn>.icon{background-position:-56px 0}.preview-container__footer-action .action-item.zoomOut>.icon{background-position:-56px -27px}.preview-container__footer-action .action-item.rotate>.icon{background-position:0 -27px}',""]);const c=a},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",i=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),i&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),i&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(a[l]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);i&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,i=0;i<n.length;i++)if(n[i].identifier===e){t=i;break}return t}function i(e,i){for(var r={},a=[],c=0;c<e.length;c++){var l=e[c],s=i.base?l[0]+i.base:l[0],d=r[s]||0,p="".concat(s," ").concat(d);r[s]=d+1;var u=t(p),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)n[u].references++,n[u].updater(m);else{var f=o(m,i);i.byIndex=c,n.splice(c,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var c=t(r[a]);n[c].references--}for(var l=i(e,o),s=0;s<r.length;s++){var d=t(r[s]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}r=l}}},569:e=>{var n={};e.exports=function(e,t){var i=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,o&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(i,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},326:(e,n,t)=>{t.d(n,{Z:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAAzCAYAAABSfnBXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyY2U1ODBmMi04NGJmLTA1NGUtODYzMC1jMmJlOWJiZjExYjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjY3OEE5QzI0NTJGMTFFQ0JBODlGNjA0NTc5MkJDRkEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjY3OEE5QzE0NTJGMTFFQ0JBODlGNjA0NTc5MkJDRkEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4Y2Y1MDY2LTEwNWUtYzQ0Ni1hYTZmLWMyZmI1NjA3MDhkNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyY2U1ODBmMi04NGJmLTA1NGUtODYzMC1jMmJlOWJiZjExYjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6V3BHuAAAFZklEQVR42uycXWgcVRTHZ7spRhtqbaVBUCzEh/gghRKU2AcxSEVBlGjzoMQ+hEQUS5HEPlgEsRalm60+CGqJUoliWY2+WSooPlgrKBb0IQEp/fClTVChtlaabKf/w/6HXsadZma8s7t35xz4MR/33jMfe+bMvWfu2YLv+56KSlhW6C1QUcNQUcOIKYNgCsyCS1xOcb8aRkj8EGn3xxU/grT14kg3KIEKGAG9YCWXI9xfYj3bsgeszUDvczzvpFJh29DdRuczRFjS7o9LlKStF4eS0X4GjIBeLmeMslJK/VEcAlUwalmvR70ilQRtKmxTDZe1kmE0qt0gWGLbCVAMlRe532e9QYs/3gFwDiyAXWC9Rd2bqTuucQRGcY5tc28YU4anKIb0mcYReI4py0+2eKV/DMO0qbsvpnGYRtFXr069PkYhRNr9rSqbufwSVCPqVFlu1rclB8E+ru8Eo6DTku6fwABYAlvBIugzyvu4byvrDLCNF6eP0Wga7TEusV3vNfouHst91rd9zdeDMXCWx9gDuix7jkXqXuR2vX2ROlphVJLW06RtdzzkCUw9wfoKo/x4Bl7rItgP9nJ7HDxlUb94gX56hQ7wA+ngvv5IT5HjOMYRLh8GxYg614FHQvWzkGnwMt37O5Z1B8ZR5XUWub6sUeTVMIK+hQSxXjCMI/Aasr0DPAouG30NjXy2uXwO3uR6OMgVBLdeZ7lEQ1dleC7DYDeDa89a1i0dzaOGpwg8x9FQh9TTzudVuhm8WorofMr+Oa5fBsN563zm1TDMYJfEKWY5+pjldhDUmjeMY5ul610FXqPeeUZBOzM2ijhluQ9wJeV341j35SXApYaRzDgugLs1JN6+H9HS8DOPJ0/76nb/iKYTdeLLJvAp+BfclVLHQ+ANMJPB+W3n+Q0laDPENtv/Ez3UOZ+J5XnwGTjTzhephqGiAS4VNQwVNQwVNQwVNQwVNQwVNQyVdjaMNeBjvXVqGKbcD34BT7bJ9WuKYpTE/Ngi8wUmjQ81ImWwpYHzM2x+NIszUafEell/nFvLiTpeK7HchJIC1z+KuIF/02A2OGYYzUpRrMcoH7hDLhhGD9jBJ6ZAj1EOeYzDxvq0RePI2jCamaJosp5zMhY4J+KAC4ZR4aSUd8E6w3MMgNO8aTJHcRyc4PakI4YRlaLoNShFMWDCmN8x0mqvknqdzwnwBLjBq02f/8O7mkj0DdgIPgHnQRm8zbJnwJY03RwvWcLS/01wanaKoqQjSlriTm5LuuJBF0Yla3jDZb7BK3XK/wqNSt4DX4Eu8KAD/e0eLo9EGJofKu+xeGy5R5JgtJ/HkYdJ/i/jgguGITfkrFfLkpqPoUM8x2Gu35viHAoRpK23nESlKJpklaIoaYjjXN9LA7noShzjO3APeDWBnu+5vNMBj9HMFEVJQ1yk15h2LcDVwUDWjW0auolKUQxEUxQjDONr8CF4K4Ge4BUy68A1NzNFUdIQJR1R0hKHXYt8/shh1ElwU4yhTZcR0yg7kj7QrBTFLkY5faYnjjFd0XNhuCpPlPyHwm/g9hi2FQxTzU5oq4t0rl/0atPn3wdzfPfPcXuIHmSBnVHxoNssHPc8vcUY9cqIbpeXbeK01W8l+8AtYCXYCG6uU2cdI3euBbianaLoRIDrWh92OnkjToEz4AujvB/86mhIvJkpis6ExKM+u//JUYl0xm71an+E+phRLn/qdQeDNGUOv062cSf9NnCM0eBvwWoLOucZ3HqJr5LuVrrgjmXew09zpPE4I6KByLv4A3ACTOZkBLeJI5YHvFqKoq34hqQrbmBfo2VEM9GSi6YoquRXdDKwihqGSny5IsAAQEF7ge9LblUAAAAASUVORK5CYII="}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var r=n[i]={id:i,exports:{}};return e[i](r,r.exports,t),r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var i={};return(()=>{function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}t.d(i,{default:()=>k});var n={index:0,len:0,list:[],dom:null,app:null,imgWidth:null,imgHeight:null,rotateNum:0,scaleNum:1,imgLeft:0,imgTop:0,fullScreen:!0,btns:{prev:null,next:null}},o=function(){function t(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var i,o;return i=t,o=[{key:"findNode",value:function(e){return n.dom.querySelector(e)}},{key:"handlePrev",value:function(){n.app.display(0===n.index?n.len-1:n.index-1)}},{key:"handleNext",value:function(){n.app.display(n.index===n.len-1?0:n.index+1)}},{key:"handleKeyEvents",value:function(e){try{switch(e.code.toLocaleLowerCase()){case"escape":window.removeEventListener("keydown",t.handleKeyEvents,!1),n.dom.parentNode.removeChild(n.dom);break;case"keya":case"arrowleft":case"keyd":case"arrowright":t.handlePrev()}}catch(e){}}},{key:"updateScreen",value:function(){var e=t.findNode(".swipper img"),i=t.findNode(".action-item.fullsceen .icon");n.fullScreen=parseInt(e.style.width)>=window.innerWidth||parseInt(e.style.height)>=window.innerHeight,i.style.backgroundPosition="".concat(n.fullScreen?"-28px -27px":"-28px 0")}},{key:"updateNum",value:function(){t.findNode(".action-item.app").setAttribute("data-num","".concat(n.index+1,"/").concat(n.len))}},{key:"handleFullScreen",value:function(){var e=t.findNode(".action-item.fullsceen .icon"),i=t.findNode(".swipper img"),o=1,r=1;n.fullScreen?(n.fullScreen=!1,o=(window.innerHeight-140)/n.imgHeight,r=(window.innerWidth-140)/n.imgWidth,n.scaleNum=r>o?o:r):(n.fullScreen=!0,o=window.innerHeight/n.imgHeight,r=window.innerWidth/n.imgWidth,n.scaleNum=r>o?r:o);var a=n.imgWidth*n.scaleNum,c=n.imgHeight*n.scaleNum;n.imgLeft=(window.innerWidth-a)/2,n.imgTop=(window.innerHeight-c)/2,i.style.width="".concat(a,"px"),i.style.height="".concat(c,"px"),i.style.top="".concat(n.imgTop,"px"),i.style.left="".concat(n.imgLeft,"px"),e.style.backgroundPosition="".concat(n.fullScreen?"-28px -27px":"-28px 0")}},{key:"handlerZoom",value:function(e){var i=t.findNode(".swipper img");if("in"===e){if(!(n.scaleNum+.2<3))return!1;n.scaleNum+=.2}if("out"===e){if(!(n.scaleNum-.2>.2))return!1;n.scaleNum-=.2}var o=n.imgWidth*n.scaleNum,r=n.imgHeight*n.scaleNum;n.imgLeft=n.imgLeft+(parseInt(i.style.width)-o)/2,n.imgTop=n.imgTop+(parseInt(i.style.height)-r)/2,i.style.width="".concat(o,"px"),i.style.height="".concat(r,"px"),i.style.top="".concat(n.imgTop,"px"),i.style.left="".concat(n.imgLeft,"px"),t.updateScreen()}},{key:"handleRotate",value:function(){var e=t.findNode(".swipper img");n.rotateNum-=90,e.style.transform="rotate(".concat(n.rotateNum,"deg)")}},{key:"handleApp",value:function(){var e=t.findNode(".preview-container__footer"),n=getComputedStyle(e,null).getPropertyValue("transform");e.style.transform="matrix(1, 0, 0, 1, 0, 80)"===n?"matrix(1, 0, 0, 1, 0, 0)":"matrix(1, 0, 0, 1, 0, 80)"}}],null&&e(i.prototype,null),o&&e(i,o),t}(),r=document.addEventListener?function(e,n,t){e&&n&&t&&e.addEventListener(n,t,!1)}:function(e,n,t){e&&n&&t&&e.attachEvent("on"+n,t)},a=document.removeEventListener?function(e,n,t){e&&n&&e.removeEventListener(n,t,!1)}:function(e,n,t){e&&n&&e.detachEvent("on"+n,t)},c=t(379),l=t.n(c),s=t(795),d=t.n(s),p=t(569),u=t.n(p),m=t(565),f=t.n(m),h=t(216),g=t.n(h),v=t(589),b=t.n(v),w=t(842),x={};function y(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}x.styleTagTransform=b(),x.setAttributes=f(),x.insert=u().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=g(),l()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;var k=function(){function e(i){var c,l,s,d,p,u,m;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.winWidth=window.innerWidth,this.winHeight=window.innerHeight,n.list=i.list,n.len=n.list.length,n.dom=function(){var e=document.createElement("div");e.className="preview-container__mask";var n=t(623).Z,i=t(462).Z,o=t(755).Z;return e.innerHTML='<section class="preview-container">\n    '.concat(n(),"\n    ").concat(i(),"\n    ").concat(o(),"\n  </section>"),document.body.appendChild(e),e}(),n.index=0,n.app=this,c=o.findNode(".prev"),l=o.findNode(".next"),c.style.display=n.len>1?"block":"none",l.style.display=n.len>1?"block":"none",r(c,"click",o.handlePrev),r(l,"click",o.handleNext),r(window,"keydown",o.handleKeyEvents),s=o.findNode("div.close"),r(s,"click",(function(){try{a(window,"keydown",o.handleKeyEvents),n.dom.parentNode.removeChild(n.dom)}catch(e){}})),d=o.findNode(".action-item.fullsceen"),p=o.findNode(".action-item.zoomIn"),u=o.findNode(".action-item.zoomOut"),m=o.findNode(".action-item.rotate"),r(d,"click",o.handleFullScreen),r(m,"click",o.handleRotate),r(p,"click",(function(){return o.handlerZoom("in")})),r(u,"click",(function(){return o.handlerZoom("out")})),this}var i,c;return i=e,c=[{key:"display",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.dom;n.rotateNum=0,n.index=e>n.len-1?0:e,o.updateNum();try{var i=n.list[n.index];t.querySelector("h2.title").innerHTML=i.name,n.scaleNum=1,n.imgLeft=0,n.imgTop=0,n.fullScreen=!0;var r=null;if(i.src)switch(i.ext.toLocaleLowerCase()){case"jpeg":case"jpg":case"png":case"gif":this.render(t,r,i);break;default:console.log("暂不支持图片以外格式预览")}}catch(e){}}},{key:"render",value:function(e,t,i){var a=this;e.querySelector(".swipper").innerHTML='\n      <div class="loading"></div>\n    ';var c=new Image;c.src=i.src,c.onload=function(){var c=this.width,l=this.height;if(n.imgWidth=c,n.imgHeight=l,c>a.winWidth-140||l>a.winHeight-140){var s=(a.winHeight-140)/l,d=(a.winWidth-140)/c;n.scaleNum=d>s?s:d,n.fullScreen=!1,n.imgLeft=(a.winWidth-c*n.scaleNum)/2,n.imgTop=(a.winHeight-l*n.scaleNum)/2}else n.fullScreen=!1,n.imgLeft=(a.winWidth-c)/2,n.imgTop=(a.winHeight-l)/2;var p=document.createElement("img");p.src=i.src,p.style="\n        position: absolute;\n        width: ".concat(c*n.scaleNum,"px;\n        height: ").concat(l*n.scaleNum,"px;\n        top: ").concat(n.imgTop,"px;\n        left: ").concat(n.imgLeft,"px;\n        cursor: pointer;\n        transition: all ease-in-out .4s;\n      "),p.addEventListener("mousedown",(function(e){var t=this;e.preventDefault(),this.style.cursor="move",this.style.transition="none";var i=e.clientX,o=e.clientY,r=n.imgLeft,a=n.imgTop;document.onmousemove=function(e){n.imgLeft=r+(e.clientX-i),n.imgTop=a+(e.clientY-o),t.style.left="".concat(n.imgLeft,"px"),t.style.top="".concat(n.imgTop,"px")},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,t.style.cursor="pointer",t.style.transition="all ease-in-out .4s"}}),!1),r(p,"mousewheel",(function(e){e.preventDefault();var i=[n.scaleNum,e.clientX-n.imgLeft,e.clientY-n.imgTop],o=i[0],r=i[1],a=i[2];this.style.transition="none",e.wheelDelta<0?(t=-.08,o<.2&&(t=0)):(t=.08,o>10&&(t=0)),n.scaleNum+=t,n.imgTop-=(n.scaleNum/o-1)*a,n.imgLeft-=(n.scaleNum/o-1)*r,this.style.left="".concat(n.imgLeft,"px"),this.style.top="".concat(n.imgTop,"px"),this.style.width="".concat(c*n.scaleNum,"px"),this.style.height="".concat(l*n.scaleNum,"px")})),r(p,"mouseout",(function(e){this.style.transition.indexOf("none")>-1&&(this.style.transition="all ease-in-out .4s")}));var u=setTimeout((function(){clearTimeout(u),e.querySelector(".swipper").innerHTML="",e.querySelector(".swipper").appendChild(p),o.updateScreen()}),100)},c.onerror=function(){console.log("图片跑错了")}}}],c&&y(i.prototype,c),e}()})(),i.default})()}));